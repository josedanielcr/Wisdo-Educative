<div class="row" *transloco="let t; scope : 'home'">
  <div class="col-md-8">
    <!-- header -->
    <div *ngIf="user">
      <div class="row">
        <div class="col-md-8">
          <app-title [title]="t('home.'+timeOfDayGreeting) + ' ' + user.name"
                     [iconPath]="timeOfDayIcon"
                     [iconBackgroundColor]="currentTimeOfDay === TimeOfDay.Morning
                                 ? 'rgba(218, 199, 9, 0.20)' : (currentTimeOfDay === TimeOfDay.Afternoon
                                ? 'rgba(126, 26, 161, 0.15)' : 'rgba(124, 147, 158, 0.15)')">
          </app-title>
        </div>
        <div class="col-md-4">
          <!-- degree overview -->
          <div class="d-flex">
            <!-- degree name -->
            <div></div>

            <!-- add degree -->
            <div></div>
          </div>
        </div>
      </div>

      <!-- setup -->
      <div class="mt-5">
        <!-- set you study plan -->
        <div class="config-card wd-bg-white d-flex align-items-center"
             *ngIf="notCompletedSetup() || isOmitted()"
             [ngClass]="{
                        'flex-wrap justify-content-center w-100' : isPhone
                    }">
          <!-- happy face -->
          <div class="me-5 ms-5" [ngClass]="{
                        'mt-3' : isPhone
                    }">
            <img src="../../../assets/icons/happy-grey.png" width="150" height="150">
          </div>

          <!-- data -->
          <div class="d-flex flex-column gap-3"
               [ngClass]="{
                            'justify-content-center text-center mt-3 mb-3' : isPhone
                         }">
            <h4 class="wd-text-h4">{{t('home.LetsStartTogether')}}</h4>
            <span class="pe-3" *ngIf="isOmitted()">
                            {{t('home.OptimizeExperience')}}
                        </span>
            <span class="pe-3" *ngIf="notCompletedSetup() && !isOmitted()">
                           {{t('home.SpaceInfo')}}
                        </span>
            <div class="config-button" [ngClass]="{
                            'w-100 p-3' : isPhone
                        }">
              <app-button [text]="isOmitted() ? t('home.ConfigureSpace') : t('home.CreateStudyPlan')"
                          [type]="ButtonType.SECONDARY"
                          (click)="executeSetup()"
                          [disabled]="false">
              </app-button>
            </div>
          </div>
        </div>

        <!-- user statistics -->
        <div class="w-100 d-flex gap-4" *ngIf="userStatistics">
          <!-- progress and average grade -->
          <div class="d-flex w-100 flex-column flex-wrap gap-4">
            <div class="d-flex flex-wrap gap-4">
              <div class="statistic-card d-flex flex-column align-items-center wd-bg-white" [class.w-100]="isPhone">
                <span class="mt-3 wd-text-h3">{{t('home.Progress')}}</span>
                <div class="d-flex flex-fill justify-content-center align-items-center">
                  <span class="progress-text">{{userStatistics.currentProgress}}%</span>
                </div>
              </div>
              <div class="statistic-card flex-wrap flex-fill wd-bg-white d-flex" [ngClass]="{
                'justify-content-center align-items-center' : isPhone
              }">
                <canvas baseChart
                        class="chart"
                        [data]="getDougnutData()"
                        [type]="getDougnutType()">
                </canvas>
                <div class="ms-auto mt-5 pe-5" *ngIf="!isPhone">
                  {{t('home.CoursesByStatus')}}
                  <div class="d-flex flex-column gap-3">

                    <div class="d-flex align-items-center gap-3 mt-3">
                      <span>{{userStatistics.completedCourses}}</span>
                      <span class="course-status-card d-flex justify-content-center
                                                 align-items-center"
                            [ngStyle]="{
                                      'background-color' : '#1ECF4526'
                                      }">{{t('studyplan.Finished')}}</span>
                    </div>

                    <div class="d-flex align-items-center gap-3">
                      <span>{{userStatistics.inProgressCourses}}</span>
                      <span class="course-status-card d-flex justify-content-center
                                          align-items-center"
                            [ngStyle]="{
                                      'background-color' : '#256E8E26'
                                    }">{{t('studyplan.InProgress')}}</span>
                    </div>

                    <div class="d-flex align-items-center gap-3">
                      <span>{{userStatistics.notStartedCourses}}</span>
                      <span class="course-status-card d-flex justify-content-center
                                                 align-items-center"
                            [ngStyle]="{
                                    'background-color' : '#C2C6CF33'
                                    }">{{t('studyplan.NotStarted')}}</span>
                    </div>


                  </div>
                </div>
              </div>
            </div>
            <div class="statistic-card d-flex flex-column align-items-center wd-bg-white" [class.w-100]="isPhone">
              <span class="mt-3 wd-text-h3">{{t('home.Average')}}</span>
              <div class="d-flex flex-fill justify-content-center align-items-center">
                <span class="progress-text">{{userStatistics.averageGrade}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- right side -->
  <div class="col-md-4" *ngIf="studyPlan">
    <app-reminders [studyPlan]="studyPlan"></app-reminders>
  </div>
</div>
